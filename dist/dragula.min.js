!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function i(o,r,c){function l(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=r[t]={exports:{}},o[t][0].call(n.exports,function(e){return l(o[t][1][e]||e)},n,n.exports,i,o,r,c)}return r[t].exports}for(var s="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(t,e,n){const M=document["documentElement"];class j extends EventTarget{constructor(t,n){super(),1===arguments.length&&!1===Array.isArray(t)&&([n,t]=[t,[]]);const e=this.options={...j.defaultOptions,...n};if(this.containers=e.containers=e.containers||t||[],"function"!=typeof e.copy){const A=e["copy"];e.copy=()=>A}this.dragging=!1;let u,a,f,h,y,r,c,d,p,m,i,g=null,o;const v=this;function l(e){return v.containers.includes(e)||v.options.isContainer(e)}function s(e){e=e?"remove":"add";M[e+"EventListener"]("pointerdown",S),M[e+"EventListener"]("pointerup",X)}function E(e){e=e?"remove":"add";M[e+"EventListener"]("pointermove",x)}function b(e){e=e?"remove":"add";M[e+"EventListener"]("selectstart",w),M[e+"EventListener"]("click",w)}function w(e){o&&e.preventDefault()}function S(e){if(r=e.clientX,c=e.clientY,!(1!==I(e)||e.metaKey||e.ctrlKey)){const n=e.target;var t=L(n);t&&(o=t,E(),"pointerdown"===e.type&&(K(n)?n.focus():e.preventDefault()))}}function x(e){if(o)if(0!==I(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-r)<=(v.options.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-c)<=(v.options.slideFactorY||0))){if(v.options.ignoreInputTextSelection){var t=e.clientX||0,n=e.clientY||0;if(K(document.elementFromPoint(t,n)))return}var t=o,n=(E(!0),b(),N(),C(t),function(e){e=e.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}(f));h=e.pageX-n.left,y=e.pageY-n.top;const i=m||f;i&&i.classList.add("gu-transit"),u||(t=f.getBoundingClientRect(),(u=f.cloneNode(!0)).style.width=t.width+"px",u.style.height=t.height+"px",u.classList.remove("gu-transit"),u.classList.add("gu-mirror"),v.options.mirrorContainer.appendChild(u),M.addEventListener("pointermove",q),v.options.mirrorContainer.classList.add("gu-unselectable"),v.emit("cloned",{clone:u,original:f,type:"mirror"})),q(e)}}else X({})}function L(e){if(!(v.dragging&&u||l(e))){for(var t=e;U(e)&&!1===l(U(e));){if(v.options.invalid(e,t))return;if(!(e=U(e)))return}var n=U(e);if(n)if(!v.options.invalid(e,t))if(v.options.moves(e,n,t,e.nextElementSibling))return{item:e,source:n}}}function C(e){v.options.copy(e.item,e.source)&&(m=e.item.cloneNode(!0),v.emit("cloned",{clone:m,original:e.item,type:"copy"})),a=e.source,f=e.item,d=p=e.item.nextElementSibling,v.dragging=!0,v.emit("drag",f,a)}function N(){var e;v.dragging&&T(e=m||f,U(e))}function O(){E(!(o=!1)),b(!0)}function X(e){var t,n;O(),v.dragging&&(t=m||f,n=e.clientX||0,e=e.clientY||0,(n=R(P(u,n,e),n,e))&&(m&&v.options.copySortSource||!m||n!==a)?T(t,n):(v.options.removeOnSpill?Y:B)())}function T(e,t){m&&v.options.copySortSource&&t===a&&f.remove(),F(t)?v.emit("cancel",{element:e,container:a,source:a}):v.emit("drop",{element:e,target:t,source:a,sibling:p}),D()}function Y(){if(v.dragging){const t=m||f;var e=U(t);e&&t.remove(),v.emit(m?"cancel":"remove",{element:t,container:e,source:a}),D()}}function B(e){var t,n,i,o;v.dragging&&(t=0<arguments.length?e:v.options.revertOnSpill,!1===(o=F(i=U(n=m||f)))&&t&&(m?i&&m.remove():a.insertBefore(n,d)),o||t?v.emit("cancel",{element:n,container:a,source:a}):v.emit("drop",{element:n,target:i,source:a,sibling:p}),D())}function D(){const e=m||f;O(),u&&(v.options.mirrorContainer.classList.remove("gu-unselectable"),M.removeEventListener("pointermove",q),u.remove(),u=null),e&&e.classList.remove("gu-transit"),i&&clearTimeout(i),v.dragging=!1,g&&v.emit("out",{element:e,container:g,source:a}),v.emit("dragend",{element:e}),a=f=m=d=p=i=g=null}function F(e,t){let n;return n=void 0!==t?t:u?p:(m||f).nextElementSibling,e===a&&n===d}function R(t,n,i){let o=t;for(;o&&!function(){var e;if(!1!==l(o))return e=_(o,t),e=k(o,e,n,i,v.options.direction),F(o,e)||v.options.accepts(f,o,a,e)}();)o=U(o);return o}function q(n){if(u){n.preventDefault();var i=n.clientX||0,n=n.clientY||0,o=i-h,r=n-y;u.style.left=o+"px",u.style.top=r+"px";const l=m||f;o=P(u,i,n);let t=R(o,i,n);const s=null!==t&&t!==g;!s&&null!==t||(g&&c("out"),g=t,s&&c("over"));r=U(l);if(t!==a||!m||v.options.copySortSource){let e;o=_(t,o);if(null!==o)e=k(t,o,i,n,v.options.direction);else{if(!0!==v.options.revertOnSpill||m)return void(m&&r&&l.remove());e=d,t=a}function c(e){v.emit(e,{element:l,container:g,source:a})}(null===e&&s||e!==l&&e!==l.nextElementSibling)&&(p=e,t.insertBefore(l,e),v.emit("shadow",{element:l,container:t,source:a}))}else r&&l.remove()}}!0===v.options.removeOnSpill&&v.on("over",function(e){e&&e.classList.remove("gu-hide")}).on("out",function(e){e&&v.dragging&&e.classList.add("gu-hide")}),s(),Object.assign(this,{start:function(e){e=L(e);e&&C(e)},end:N,cancel:B,remove:Y,destroy:function(){s(!0),X({})},canMove:function(e){return!!L(e)}})}on(e,t){return this.addEventListener(e,e=>{t.call(this,...Object.values(e.detail))}),this}off(e,t){return this.removeEventListener(e,t),this}emit(e,t,...n){t instanceof Node&&(t=[t,...n]);n=new CustomEvent(e,{detail:t});return this.dispatchEvent(n),this}static defaultOptions={moves:()=>!0,accepts:()=>!0,invalid:()=>!1,isContainer:()=>!1,copy:!1,copySortSource:!1,revertOnSpill:!1,removeOnSpill:!1,direction:"vertical",ignoreInputTextSelection:!0,mirrorContainer:document.body}}function I(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;e=e.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function P(e,t,n){var i=(e=e||{}).className||"",t=(e.className+=" gu-hide",document.elementFromPoint(t,n));return e.className=i,t}function U(e){return e.parentNode===document?null:e.parentNode}function K(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&"false"!==t.contentEditable&&("true"===t.contentEditable||e(U(t)))}(e)}function _(e,t){let n=t;for(;n!==e&&U(n)!==e;)n=U(n);return n===M?null:n}function k(n,t,i,o,e){const r="horizontal"===e;function c(e){return e?t.nextElementSibling:t}if(t!==n)return e=t.getBoundingClientRect(),r?c(i>e.left+e.width/2):c(o>e.top+e.height/2);{var l,s=n.children.length;let e,t;for(e=0;e<s;e++){if(l=(t=n.children[e]).getBoundingClientRect(),r&&l.left+l.width/2>i)return t;if(!r&&l.top+l.height/2>o)return t}return null}}e.exports=function(...e){return new j(...e)}},{}]},{},[1])(1)});
//# sourceMappingURL=dragula.min.js.map